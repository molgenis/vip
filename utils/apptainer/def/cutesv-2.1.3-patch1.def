Bootstrap: localimage
From: sif/build/python-3.11.14.sif

%post
    # --only-binary              : ensure deps are not installed from source packages
    pip install \
      --only-binary=scipy,pysam,biopython,pyVCF3 \
      scipy==1.16.1 pysam==0.23.3 biopython==1.85 cigar==0.1.3 PyVCF3==1.0.4

    # install from commit after 2.1.3 release containing fix https://github.com/tjiangHIT/cuteSV/issues/124
    apt-get update
    apt-get install git

    pip install \
      "git+https://github.com/tjiangHIT/cuteSV.git@441433d9e5a4e03be96afd796b313ba77159d421#egg=cuteSV"

    # cleanup
    apt-get purge git
    apt-get autoremove
    apt-get clean

%test
    cuteSV --help > /dev/null

%runscript
    exec cuteSV "$@"

%help
    Long-read-based human genomic structural variation detection.
