Bootstrap: localimage
From: sif/build/graalvm-ce-21.0.2.sif

%help
    Command-line application to generate a report for any VCF (Variant Call Format) file based on a report template.
    Usage: java -jar /opt/vcf-decision-tree/lib/vcf-decision-tree.jar

%post
    version_major=4
    version_minor=1
    version_patch=2

    # install
    apk update
    apk add --virtual=.build-dependencies curl

    mkdir -p /opt/vcf-decision-tree/lib
    curl -Ls -o /opt/vcf-decision-tree/lib/vcf-decision-tree.jar "https://github.com/molgenis/vip-decision-tree/releases/download/v${version_major}.${version_minor}.${version_patch}/vcf-decision-tree.jar"
    echo "0c305234cbd4e5231a7bac4f6524afa2bb7d9153e2395d1496368081542c69a0  /opt/vcf-decision-tree/lib/vcf-decision-tree.jar" | sha256sum -c

    # cleanup
    apk del .build-dependencies
    rm -rf /var/cache/apk/*
